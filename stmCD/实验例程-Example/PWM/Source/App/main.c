/****************************************Copyright (c)****************************************************
**                                 http://www.PowerAVR.com
**								   http://www.PowerMCU.com
**--------------File Info---------------------------------------------------------------------------------
** File name:           main.c
** Last modified Date:  2010-05-12
** Last Version:        V1.00
** Descriptions:        The main() function example template
**
**--------------------------------------------------------------------------------------------------------
** Created by:          PowerAVR
** Created date:        2010-05-10
** Version:             V1.00
** Descriptions:        ±àÐ´Ê¾Àý´úÂë
**
**--------------------------------------------------------------------------------------------------------       
*********************************************************************************************************/
#include "lpc17xx.h"
#include "pwm.h"

extern volatile uint32_t match_counter1;

/******************************************************************************
**   Main Function  main()
******************************************************************************/
int main (void)
{	    
  uint32_t cycle = PWM_CYCLE, offset = 0;
  SystemInit();
 
  if ( PWM_Init( 1, 0 ) != 1 )
  {
	while( 1 );			/* fatal error */
  }

  PWM_Set( 1, cycle, offset );
  PWM_Start( 1 );

  while ( 1 )
  {
	if ( match_counter1 != 0 )
	{
	  match_counter1 = 0;
	  PWM_Set( 1, cycle, offset );
	}
  }
}

/******************************************************************************
**                            End Of File
******************************************************************************/
